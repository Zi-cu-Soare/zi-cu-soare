function jBox(t,i){return this.options={id:null,width:"auto",height:"auto",minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,responsiveWidth:!0,responsiveHeight:!0,responsiveMinWidth:100,responsiveMinHeight:100,attach:null,trigger:"click",preventDefault:!1,title:null,content:null,getTitle:null,getContent:null,isolateScroll:!0,ajax:{url:null,data:"",reload:!1,getURL:"data-url",getData:"data-ajax",setContent:!0,spinner:!0,spinnerDelay:300,spinnerReposition:!0},target:null,position:{x:"center",y:"center"},outside:null,offset:0,attributes:{x:"left",y:"top"},fixed:!1,adjustPosition:!0,adjustTracker:!1,adjustDistance:5,reposition:!0,repositionOnOpen:!0,repositionOnContent:!0,pointer:!1,pointTo:"target",fade:180,animation:null,theme:"Default",addClass:null,overlay:!1,zIndex:1e4,delayOpen:0,delayClose:0,closeOnEsc:!1,closeOnClick:!1,closeOnMouseleave:!1,closeButton:!1,appendTo:jQuery("body"),createOnInit:!1,blockScroll:!1,draggable:!1,dragOver:!0,autoClose:!1,preloadAudio:!0,audio:null,volume:100,onInit:null,onAttach:null,onPosition:null,onCreated:null,onOpen:null,onClose:null,onCloseComplete:null},this._pluginOptions={Tooltip:{getContent:"title",trigger:"mouseenter",position:{x:"center",y:"top"},outside:"y",pointer:!0},Mouse:{responsiveWidth:!1,responsiveHeight:!1,adjustPosition:"flip",target:"mouse",trigger:"mouseenter",position:{x:"right",y:"bottom"},outside:"xy",offset:5},Modal:{target:jQuery(window),fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"overlay",closeButton:"title",overlay:!0,animation:"zoomIn"}},this.options=jQuery.extend(!0,this.options,this._pluginOptions[t]?this._pluginOptions[t]:jBox._pluginOptions[t],i),"string"==jQuery.type(t)&&(this.type=t),this._fireEvent=function(t,i){this.options["_"+t]&&this.options["_"+t].bind(this)(i),this.options[t]&&this.options[t].bind(this)(i)},null===this.options.id&&(this.options.id="jBox"+jBox._getUniqueID()),this.id=this.options.id,("center"==this.options.position.x&&"x"==this.options.outside||"center"==this.options.position.y&&"y"==this.options.outside)&&(this.options.outside=null),"target"==this.options.pointTo&&(!this.options.outside||"xy"==this.options.outside)&&(this.options.pointer=!1),"object"!=jQuery.type(this.options.offset)?this.options.offset={x:this.options.offset,y:this.options.offset}:this.options.offset=jQuery.extend({x:0,y:0},this.options.offset),"object"!=jQuery.type(this.options.adjustDistance)?this.options.adjustDistance={top:this.options.adjustDistance,right:this.options.adjustDistance,bottom:this.options.adjustDistance,left:this.options.adjustDistance}:this.options.adjustDistance=jQuery.extend({top:5,left:5,right:5,bottom:5},this.options.adjustDistance),this.outside=!(!this.options.outside||"xy"==this.options.outside)&&this.options.position[this.options.outside],this.align=this.outside?this.outside:"center"!=this.options.position.y&&"number"!=jQuery.type(this.options.position.y)?this.options.position.x:"center"!=this.options.position.x&&"number"!=jQuery.type(this.options.position.x)?this.options.position.y:this.options.attributes.x,this._getOpp=function(t){return{left:"right",right:"left",top:"bottom",bottom:"top",x:"y",y:"x"}[t]},this._getXY=function(t){return{left:"x",right:"x",top:"y",bottom:"y",center:"x"}[t]},this._getTL=function(t){return{left:"left",right:"left",top:"top",bottom:"top",center:"left",x:"left",y:"top"}[t]},this._getInt=function(t,i){return"auto"==t?"auto":t&&"string"==jQuery.type(t)&&"%"==t.slice(-1)?jQuery(window)["height"==i?"innerHeight":"innerWidth"]()*parseInt(t.replace("%",""))/100:t},this._createSVG=function(t,i){var e=document.createElementNS("http://www.w3.org/2000/svg",t);return jQuery.each(i,function(t,i){e.setAttribute(i[0],i[1]||"")}),e},this._isolateScroll=function(t){t&&t.length&&t.on("DOMMouseScroll.jBoxIsolateScroll mousewheel.jBoxIsolateScroll",function(i){var e=i.wheelDelta||i.originalEvent&&i.originalEvent.wheelDelta||-i.detail,s=this.scrollTop+t.outerHeight()-this.scrollHeight>=0,o=this.scrollTop<=0;(e<0&&s||e>0&&o)&&i.preventDefault()})},this._setTitleWidth=function(){if(!this.titleContainer||"auto"==this.content[0].style.width&&!this.content[0].style.maxWidth)return null;if("none"==this.wrapper.css("display")){this.wrapper.css("display","block");var t=this.content.outerWidth();this.wrapper.css("display","none")}else var t=this.content.outerWidth();this.titleContainer.css({maxWidth:Math.max(t,parseInt(this.content[0].style.maxWidth))||null})},this._draggable=function(){if(!this.options.draggable)return!1;var t="title"==this.options.draggable?this.titleContainer:this.options.draggable instanceof jQuery?this.options.draggable:"string"==jQuery.type(this.options.draggable)?jQuery(this.options.draggable):this.wrapper;return!(!(t&&t instanceof jQuery&&t.length)||t.data("jBox-draggable"))&&(t.addClass("jBox-draggable").data("jBox-draggable",!0).on("mousedown",function(t){if(2!=t.button&&!jQuery(t.target).hasClass("jBox-noDrag")&&!jQuery(t.target).parents(".jBox-noDrag").length){this.options.dragOver&&this.wrapper.css("zIndex")<=jBox.zIndexMax&&(jBox.zIndexMax+=1,this.wrapper.css("zIndex",jBox.zIndexMax));var i=this.wrapper.outerHeight(),e=this.wrapper.outerWidth(),s=this.wrapper.offset().top+i-t.pageY,o=this.wrapper.offset().left+e-t.pageX;jQuery(document).on("mousemove.jBox-draggable-"+this.id,function(t){this.wrapper.offset({top:t.pageY+s-i,left:t.pageX+o-e})}.bind(this)),t.preventDefault()}}.bind(this)).on("mouseup",function(){jQuery(document).off("mousemove.jBox-draggable-"+this.id)}.bind(this)),jBox.zIndexMax=jBox.zIndexMax?Math.max(jBox.zIndexMax,this.options.zIndex):this.options.zIndex,this)},this._create=function(){if(!this.wrapper){if(this.wrapper=jQuery("<div/>",{id:this.id,class:"jBox-wrapper"+(this.type?" jBox-"+this.type:"")+(this.options.theme?" jBox-"+this.options.theme:"")+(this.options.addClass?" "+this.options.addClass:"")}).css({position:this.options.fixed?"fixed":"absolute",display:"none",opacity:0,zIndex:this.options.zIndex}).data("jBox",this),this.options.closeOnMouseleave&&this.wrapper.on("mouseleave",function(t){!this.source||!(t.relatedTarget==this.source[0]||jQuery.inArray(this.source[0],jQuery(t.relatedTarget).parents("*"))!==-1)&&this.close()}.bind(this)),"box"==this.options.closeOnClick&&this.wrapper.on("touchend click",function(){this.close({ignoreDelay:!0})}.bind(this)),this.container=jQuery('<div class="jBox-container"/>').appendTo(this.wrapper),this.content=jQuery('<div class="jBox-content"/>').appendTo(this.container),this.options.footer&&(this.footer=jQuery('<div class="jBox-footer"/>').append(this.options.footer).appendTo(this.container)),this.options.isolateScroll&&this._isolateScroll(this.content),this.options.closeButton){var t=this._createSVG("svg",[["viewBox","0 0 24 24"]]);t.appendChild(this._createSVG("path",[["d","M22.2,4c0,0,0.5,0.6,0,1.1l-6.8,6.8l6.9,6.9c0.5,0.5,0,1.1,0,1.1L20,22.3c0,0-0.6,0.5-1.1,0L12,15.4l-6.9,6.9c-0.5,0.5-1.1,0-1.1,0L1.7,20c0,0-0.5-0.6,0-1.1L8.6,12L1.7,5.1C1.2,4.6,1.7,4,1.7,4L4,1.7c0,0,0.6-0.5,1.1,0L12,8.5l6.8-6.8c0.5-0.5,1.1,0,1.1,0L22.2,4z"]])),this.closeButton=jQuery('<div class="jBox-closeButton jBox-noDrag"/>').on("touchend click",function(t){this.close({ignoreDelay:!0})}.bind(this)).append(t),"box"!=this.options.closeButton&&(this.options.closeButton!==!0||this.options.overlay||this.options.title)||(this.wrapper.addClass("jBox-closeButton-box"),this.closeButton.appendTo(this.container))}if(this.wrapper.appendTo(this.options.appendTo),this.wrapper.find(".jBox-closeButton").length&&jQuery.each(["top","right","bottom","left"],function(t,i){this.wrapper.find(".jBox-closeButton").css(i)&&"auto"!=this.wrapper.find(".jBox-closeButton").css(i)&&(this.options.adjustDistance[i]=Math.max(this.options.adjustDistance[i],this.options.adjustDistance[i]+((parseInt(this.wrapper.find(".jBox-closeButton").css(i))||0)+(parseInt(this.container.css("border-"+i+"-width"))||0))*-1))}.bind(this)),this.options.pointer){if(this.pointer={position:"target"!=this.options.pointTo?this.options.pointTo:this._getOpp(this.outside),xy:"target"!=this.options.pointTo?this._getXY(this.options.pointTo):this._getXY(this.outside),align:"center",offset:0},this.pointer.element=jQuery('<div class="jBox-pointer jBox-pointer-'+this.pointer.position+'"/>').appendTo(this.wrapper),this.pointer.dimensions={x:this.pointer.element.outerWidth(),y:this.pointer.element.outerHeight()},"string"==jQuery.type(this.options.pointer)){var i=this.options.pointer.split(":");i[0]&&(this.pointer.align=i[0]),i[1]&&(this.pointer.offset=parseInt(i[1]))}this.pointer.alignAttribute="x"==this.pointer.xy?"bottom"==this.pointer.align?"bottom":"top":"right"==this.pointer.align?"right":"left",this.wrapper.css("padding-"+this.pointer.position,this.pointer.dimensions[this.pointer.xy]),this.pointer.element.css(this.pointer.alignAttribute,"center"==this.pointer.align?"50%":0).css("margin-"+this.pointer.alignAttribute,this.pointer.offset),this.pointer.margin={},this.pointer.margin["margin-"+this.pointer.alignAttribute]=this.pointer.offset,"center"==this.pointer.align&&this.pointer.element.css("transform","translate("+("y"==this.pointer.xy?this.pointer.dimensions.x*-.5+"px":0)+", "+("x"==this.pointer.xy?this.pointer.dimensions.y*-.5+"px":0)+")"),this.pointer.element.css("x"==this.pointer.xy?"width":"height",parseInt(this.pointer.dimensions[this.pointer.xy])+parseInt(this.container.css("border-"+this.pointer.alignAttribute+"-width"))),this.wrapper.addClass("jBox-pointerPosition-"+this.pointer.position)}this.setContent(this.options.content,!0),this.setTitle(this.options.title,!0),this.options.draggable&&this._draggable(),this._fireEvent("onCreated")}},this.options.createOnInit&&this._create(),this.options.attach&&this.attach(),this._attachEvents=function(){this.options.closeOnEsc&&jQuery(document).on("keyup.jBox-"+this.id,function(t){27==t.keyCode&&this.close({ignoreDelay:!0})}.bind(this)),this.options.closeOnClick!==!0&&"body"!=this.options.closeOnClick||jQuery(document).on("touchend.jBox-"+this.id+" click.jBox-"+this.id,function(t){this.blockBodyClick||"body"==this.options.closeOnClick&&(t.target==this.wrapper[0]||this.wrapper.has(t.target).length)||this.close({ignoreDelay:!0})}.bind(this)),(this.options.adjustPosition||this.options.reposition)&&!this.fixed&&this.outside&&(this.options.adjustTracker&&jQuery(window).on("scroll.jBox-"+this.id,function(t){this.position()}.bind(this)),(this.options.adjustPosition||this.options.reposition)&&jQuery(window).on("resize.jBox-"+this.id,function(t){this.position()}.bind(this))),"mouse"==this.options.target&&jQuery("body").on("mousemove.jBox-"+this.id,function(t){this.position({mouseTarget:{top:t.pageY,left:t.pageX}})}.bind(this))},this._detachEvents=function(){this.options.closeOnEsc&&jQuery(document).off("keyup.jBox-"+this.id),(this.options.closeOnClick===!0||"body"==this.options.closeOnClick)&&jQuery(document).off("touchend.jBox-"+this.id+" click.jBox-"+this.id),this.options.adjustTracker&&jQuery(window).off("scroll.jBox-"+this.id),(this.options.adjustPosition||this.options.reposition)&&jQuery(window).off("resize.jBox-"+this.id),"mouse"==this.options.target&&jQuery("body").off("mousemove.jBox-"+this.id)},this._showOverlay=function(){this.overlay||(this.overlay=jQuery('<div id="'+this.id+'-overlay"/>').addClass("jBox-overlay"+(this.type?" jBox-overlay-"+this.type:"")).css({display:"none",opacity:0,zIndex:this.options.zIndex-1}).appendTo(this.options.appendTo),("overlay"==this.options.closeButton||this.options.closeButton===!0)&&this.overlay.append(this.closeButton),"overlay"==this.options.closeOnClick&&this.overlay.on("touchend click",function(){this.close({ignoreDelay:!0})}.bind(this)),jQuery("#"+this.id+"-overlay .jBox-closeButton").length&&(this.options.adjustDistance.top=Math.max(jQuery("#"+this.id+"-overlay .jBox-closeButton").outerHeight(),this.options.adjustDistance.top))),"block"!=this.overlay.css("display")&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.overlay.css({display:"block"})}.bind(this)}):this.overlay.css({display:"block",opacity:1}))},this._hideOverlay=function(){this.overlay&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:0},{queue:!1,duration:this.options.fade,complete:function(){this.overlay.css({display:"none"})}.bind(this)}):this.overlay.css({display:"none",opacity:0}))},this._exposeDimensions=function(){this.wrapper.css({top:-1e4,left:-1e4,right:"auto",bottom:"auto"});var t={x:this.wrapper.outerWidth(),y:this.wrapper.outerHeight()};return this.wrapper.css({top:"auto",left:"auto"}),t},this._generateAnimationCSS=function(){if("object"!=jQuery.type(this.options.animation)&&(this.options.animation={pulse:{open:"pulse",close:"zoomOut"},zoomIn:{open:"zoomIn",close:"zoomIn"},zoomOut:{open:"zoomOut",close:"zoomOut"},move:{open:"move",close:"move"},slide:{open:"slide",close:"slide"},flip:{open:"flip",close:"flip"},tada:{open:"tada",close:"zoomOut"}}[this.options.animation]),!this.options.animation)return null;this.options.animation.open&&(this.options.animation.open=this.options.animation.open.split(":")),this.options.animation.close&&(this.options.animation.close=this.options.animation.close.split(":")),this.options.animation.openDirection=this.options.animation.open[1]?this.options.animation.open[1]:null,this.options.animation.closeDirection=this.options.animation.close[1]?this.options.animation.close[1]:null,this.options.animation.open&&(this.options.animation.open=this.options.animation.open[0]),this.options.animation.close&&(this.options.animation.close=this.options.animation.close[0]),this.options.animation.open&&(this.options.animation.open+="Open"),this.options.animation.close&&(this.options.animation.close+="Close");var t={pulse:{duration:350,css:[["0%","scale(1)"],["50%","scale(1.1)"],["100%","scale(1)"]]},zoomInOpen:{duration:this.options.fade||180,css:[["0%","scale(0.9)"],["100%","scale(1)"]]},zoomInClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(0.9)"]]},zoomOutOpen:{duration:this.options.fade||180,css:[["0%","scale(1.1)"],["100%","scale(1)"]]},zoomOutClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(1.1)"]]},moveOpen:{duration:this.options.fade||180,positions:{top:{"0%":-12},right:{"0%":12},bottom:{"0%":12},left:{"0%":-12}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},moveClose:{duration:this.options.fade||180,timing:"ease-in",positions:{top:{"100%":-12},right:{"100%":12},bottom:{"100%":12},left:{"100%":-12}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},slideOpen:{duration:400,positions:{top:{"0%":-400},right:{"0%":400},bottom:{"0%":400},left:{"0%":-400}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},slideClose:{duration:400,timing:"ease-in",positions:{top:{"100%":-400},right:{"100%":400},bottom:{"100%":400},left:{"100%":-400}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},flipOpen:{duration:600,css:[["0%","perspective(400px) rotateX(90deg)"],["40%","perspective(400px) rotateX(-15deg)"],["70%","perspective(400px) rotateX(15deg)"],["100%","perspective(400px) rotateX(0deg)"]]},flipClose:{duration:this.options.fade||300,css:[["0%","perspective(400px) rotateX(0deg)"],["100%","perspective(400px) rotateX(90deg)"]]},tada:{duration:800,css:[["0%","scale(1)"],["10%, 20%","scale(0.9) rotate(-3deg)"],["30%, 50%, 70%, 90%","scale(1.1) rotate(3deg)"],["40%, 60%, 80%","scale(1.1) rotate(-3deg)"],["100%","scale(1) rotate(0)"]]}};jQuery.each(["pulse","tada"],function(i,e){t[e+"Open"]=t[e+"Close"]=t[e]});var i=function(i,e){return keyframe_css="@keyframes jBox-"+this.id+"-animation-"+this.options.animation[i]+"-"+i+(e?"-"+e:"")+" {",jQuery.each(t[this.options.animation[i]].css,function(s,o){var n=e?o[1].replace("%XY",this._getXY(e).toUpperCase()):o[1];t[this.options.animation[i]].positions&&(n=n.replace("%V",t[this.options.animation[i]].positions[e][o[0]])),keyframe_css+=o[0]+" {transform:"+n+";}"}.bind(this)),keyframe_css+="}",keyframe_css+=".jBox-"+this.id+"-animation-"+this.options.animation[i]+"-"+i+(e?"-"+e:"")+" {",keyframe_css+="animation-duration: "+t[this.options.animation[i]].duration+"ms;",keyframe_css+="animation-name: jBox-"+this.id+"-animation-"+this.options.animation[i]+"-"+i+(e?"-"+e:"")+";",keyframe_css+=t[this.options.animation[i]].timing?"animation-timing-function: "+t[this.options.animation[i]].timing+";":"",keyframe_css+="}",keyframe_css}.bind(this);this._animationCSS="",jQuery.each(["open","close"],function(e,s){return this.options.animation[s]&&t[this.options.animation[s]]&&("close"!=s||this.options.fade)?void(t[this.options.animation[s]].positions?jQuery.each(["top","right","bottom","left"],function(t,e){this._animationCSS+=i(s,e)}.bind(this)):this._animationCSS+=i(s)):""}.bind(this))},this.options.animation&&this._generateAnimationCSS(),this._blockBodyClick=function(){this.blockBodyClick=!0,setTimeout(function(){this.blockBodyClick=!1}.bind(this),10)},this._animate=function(t){if(!t&&(t=this.isOpen?"open":"close"),!this.options.fade&&"close"==t)return null;var i=this.options.animation[t+"Direction"]||("center"!=this.align?this.align:this.options.attributes.x);this.flipped&&this._getXY(i)==this._getXY(this.align)&&(i=this._getOpp(i));var e="jBox-"+this.id+"-animation-"+this.options.animation[t]+"-"+t+" jBox-"+this.id+"-animation-"+this.options.animation[t]+"-"+t+"-"+i;this.wrapper.addClass(e);var s=1e3*parseFloat(this.wrapper.css("animation-duration"));"close"==t&&(s=Math.min(s,this.options.fade)),setTimeout(function(){this.wrapper.removeClass(e)}.bind(this),s)},this._abortAnimation=function(){var t=this.wrapper.attr("class").split(" ").filter(function(t){return 0!==t.lastIndexOf("jBox-"+this.id+"-animation",0)}.bind(this));this.wrapper.attr("class",t.join(" "))},(this.options.responsiveWidth||this.options.responsiveHeight)&&jQuery(window).on("resize.responsivejBox-"+this.id,function(t){this.isOpen&&this.position()}.bind(this)),"string"===jQuery.type(this.options.preloadAudio)&&(this.options.preloadAudio=[this.options.preloadAudio]),"string"===jQuery.type(this.options.audio)&&(this.options.audio={open:this.options.audio}),"number"===jQuery.type(this.options.volume)&&(this.options.volume={open:this.options.volume,close:this.options.volume}),this.options.preloadAudio===!0&&this.options.audio&&(this.options.preloadAudio=[],jQuery.each(this.options.audio,function(t,i){this.options.preloadAudio.push(i+".mp3"),this.options.preloadAudio.push(i+".ogg")}.bind(this))),this.options.preloadAudio.length&&jQuery.each(this.options.preloadAudio,function(t,i){var e=new Audio;e.src=i,e.preload="auto"}),this._fireEvent("onInit"),this}function jBoxPlugin(t,i){jBox._pluginOptions[t]=i}jBox.prototype.attach=function(t,i){return!t&&(t=this.options.attach),"string"==jQuery.type(t)&&(t=jQuery(t)),!i&&(i=this.options.trigger),t&&t.length&&jQuery.each(t,function(t,e){e=jQuery(e),e.data("jBox-attached-"+this.id)||("title"==this.options.getContent&&void 0!=e.attr("title")&&e.data("jBox-getContent",e.attr("title")).removeAttr("title"),this.attachedElements||(this.attachedElements=[]),this.attachedElements.push(e[0]),e.on(i+".jBox-attach-"+this.id,function(t){if(this.timer&&clearTimeout(this.timer),"mouseenter"!=i||!this.isOpen||this.source[0]!=e[0]){if(this.isOpen&&this.source&&this.source[0]!=e[0])var s=!0;this.source=e,!this.options.target&&(this.target=e),"click"==i&&this.options.preventDefault&&t.preventDefault(),this["click"!=i||s?"open":"toggle"]()}}.bind(this)),"mouseenter"==this.options.trigger&&e.on("mouseleave",function(t){return this.wrapper?void(this.options.closeOnMouseleave&&(t.relatedTarget==this.wrapper[0]||jQuery(t.relatedTarget).parents("#"+this.id).length)||this.close()):null}.bind(this)),e.data("jBox-attached-"+this.id,i),this._fireEvent("onAttach",e))}.bind(this)),this},jBox.prototype.detach=function(t){return!t&&(t=this.attachedElements||[]),t&&t.length&&jQuery.each(t,function(t,i){i=jQuery(i),i.data("jBox-attached-"+this.id)&&(i.off(i.data("jBox-attached-"+this.id)+".jBox-attach-"+this.id),i.data("jBox-attached-"+this.id,null)),this.attachedElements=jQuery.grep(this.attachedElements,function(t){return t!=i[0]})}.bind(this)),this},jBox.prototype.setTitle=function(t,i){if(null==t||void 0==t)return this;!this.wrapper&&this._create();var e=this.wrapper.outerHeight(),s=this.wrapper.outerWidth();return this.title||(this.titleContainer=jQuery('<div class="jBox-title"/>'),this.title=jQuery("<div/>").appendTo(this.titleContainer),this.wrapper.addClass("jBox-hasTitle"),("title"==this.options.closeButton||this.options.closeButton===!0&&!this.options.overlay)&&(this.wrapper.addClass("jBox-closeButton-title"),this.closeButton.appendTo(this.titleContainer)),this.titleContainer.insertBefore(this.content),this._setTitleWidth()),this.title.html(t),s!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),!i&&this.options.repositionOnContent&&(e!=this.wrapper.outerHeight()||s!=this.wrapper.outerWidth())&&this.position(),this},jBox.prototype.setContent=function(t,i){if(null==t||void 0==t)return this;!this.wrapper&&this._create();var e=this.wrapper.outerHeight(),s=this.wrapper.outerWidth();switch(this.content.children("[data-jbox-content-appended]").appendTo("body").css({display:"none"}),jQuery.type(t)){case"string":this.content.html(t);break;case"object":this.content.html(""),t.attr("data-jbox-content-appended",1).appendTo(this.content).css({display:"block"})}return s!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),!i&&this.options.repositionOnContent&&(e!=this.wrapper.outerHeight()||s!=this.wrapper.outerWidth())&&this.position(),this},jBox.prototype.setDimensions=function(t,i,e){!this.wrapper&&this._create(),void 0==i&&(i="auto"),this.content.css(t,this._getInt(i)),"width"==t&&this._setTitleWidth(),(void 0==e||e)&&this.position()},jBox.prototype.setWidth=function(t,i){this.setDimensions("width",t,i)},jBox.prototype.setHeight=function(t,i){this.setDimensions("height",t,i)},jBox.prototype.position=function(t){if(!t&&(t={}),t=jQuery.extend(!0,this.options,t),this.target=t.target||this.target||jQuery(window),!(this.target instanceof jQuery||"mouse"==this.target)&&(this.target=jQuery(this.target)),!this.target.length)return this;this.content.css({width:this._getInt(t.width,"width"),height:this._getInt(t.height,"height"),minWidth:this._getInt(t.minWidth,"width"),minHeight:this._getInt(t.minHeight,"height"),maxWidth:this._getInt(t.maxWidth,"width"),maxHeight:this._getInt(t.maxHeight,"height")}),this._setTitleWidth();var i=this._exposeDimensions();"mouse"!=this.target&&!this.target.data("jBox-"+this.id+"-fixed")&&this.target.data("jBox-"+this.id+"-fixed",this.target[0]!=jQuery(window)[0]&&("fixed"==this.target.css("position")||this.target.parents().filter(function(){return"fixed"==jQuery(this).css("position")}).length>0)?"fixed":"static");var e={x:jQuery(window).outerWidth(),y:jQuery(window).outerHeight(),top:t.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:jQuery(window).scrollTop(),left:t.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:jQuery(window).scrollLeft()};e.bottom=e.top+e.y,e.right=e.left+e.x;try{var s=this.target.offset()}catch(t){var s={top:0,left:0}}"mouse"!=this.target&&"fixed"==this.target.data("jBox-"+this.id+"-fixed")&&t.fixed&&(s.top=s.top-jQuery(window).scrollTop(),s.left=s.left-jQuery(window).scrollLeft());var o={x:"mouse"==this.target?12:this.target.outerWidth(),y:"mouse"==this.target?20:this.target.outerHeight(),top:"mouse"==this.target&&t.mouseTarget?t.mouseTarget.top:s?s.top:0,left:"mouse"==this.target&&t.mouseTarget?t.mouseTarget.left:s?s.left:0},n=t.outside&&!("center"==t.position.x&&"center"==t.position.y),a={x:e.x-t.adjustDistance.left-t.adjustDistance.right,y:e.y-t.adjustDistance.top-t.adjustDistance.bottom,left:n?o.left-jQuery(window).scrollLeft()-t.adjustDistance.left:0,right:n?e.x-o.left+jQuery(window).scrollLeft()-o.x-t.adjustDistance.right:0,top:n?o.top-jQuery(window).scrollTop()-this.options.adjustDistance.top:0,bottom:n?e.y-o.top+jQuery(window).scrollTop()-o.y-t.adjustDistance.bottom:0},r={x:"x"!=t.outside&&"xy"!=t.outside||"number"==jQuery.type(t.position.x)?null:t.position.x,y:"y"!=t.outside&&"xy"!=t.outside||"number"==jQuery.type(t.position.y)?null:t.position.y},h={x:!1,y:!1};if(r.x&&i.x>a[r.x]&&a[this._getOpp(r.x)]>a[r.x]&&(r.x=this._getOpp(r.x))&&(h.x=!0),r.y&&i.y>a[r.y]&&a[this._getOpp(r.y)]>a[r.y]&&(r.y=this._getOpp(r.y))&&(h.y=!0),t.responsiveWidth||t.responsiveHeight){var l=function(){if(t.responsiveWidth&&i.x>a[r.x||"x"]){var e=a[r.x||"x"]-(this.pointer&&n&&"x"==t.outside?this.pointer.dimensions.x:0)-parseInt(this.container.css("border-left-width"))-parseInt(this.container.css("border-right-width"));this.content.css({width:e>this.options.responsiveMinWidth?e:null,minWidth:e<parseInt(this.content.css("minWidth"))?0:null}),this._setTitleWidth()}i=this._exposeDimensions()}.bind(this);t.responsiveWidth&&l(),t.responsiveWidth&&!h.y&&r.y&&i.y>a[r.y]&&a[this._getOpp(r.y)]>a[r.y]&&(r.y=this._getOpp(r.y))&&(h.y=!0);var p=function(){if(t.responsiveHeight&&i.y>a[r.y||"y"]){var e=function(){if(!this.titleContainer&&!this.footer)return 0;if("none"==this.wrapper.css("display")){this.wrapper.css("display","block");var t=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0);this.wrapper.css("display","none")}else var t=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0);return t||0}.bind(this),s=a[r.y||"y"]-(this.pointer&&n&&"y"==t.outside?this.pointer.dimensions.y:0)-e()-parseInt(this.container.css("border-top-width"))-parseInt(this.container.css("border-bottom-width"));this.content.css({height:s>this.options.responsiveMinHeight?s:null}),this._setTitleWidth()}i=this._exposeDimensions()}.bind(this);t.responsiveHeight&&p(),t.responsiveHeight&&!h.x&&r.x&&i.x>a[r.x]&&a[this._getOpp(r.x)]>a[r.x]&&(r.x=this._getOpp(r.x))&&(h.x=!0),t.adjustPosition&&"move"!=t.adjustPosition&&(h.x&&l(),h.y&&p())}var d={},u=function(e){if("number"==jQuery.type(t.position[e]))return void(d[t.attributes[e]]=t.position[e]);var s=t.attributes[e]="x"==e?"left":"top";return d[s]=o[s],"center"==t.position[e]?(d[s]+=Math.ceil((o[e]-i[e])/2),void("mouse"!=this.target&&this.target[0]&&this.target[0]==jQuery(window)[0]&&(d[s]+=.5*(t.adjustDistance[s]-t.adjustDistance[this._getOpp(s)])))):(s!=t.position[e]&&(d[s]+=o[e]-i[e]),void((t.outside==e||"xy"==t.outside)&&(d[s]+=i[e]*(s!=t.position[e]?1:-1))))}.bind(this);if(u("x"),u("y"),this.pointer&&"target"==t.pointTo&&"number"!=jQuery.type(t.position.x)&&"number"!=jQuery.type(t.position.y)){var c=0;switch(this.pointer.align){case"center":"center"!=t.position[this._getOpp(t.outside)]&&(c+=i[this._getOpp(t.outside)]/2);break;default:switch(t.position[this._getOpp(t.outside)]){case"center":c+=(i[this._getOpp(t.outside)]/2-this.pointer.dimensions[this._getOpp(t.outside)]/2)*(this.pointer.align==this._getTL(this.pointer.align)?1:-1);break;default:c+=this.pointer.align!=t.position[this._getOpp(t.outside)]?this.dimensions[this._getOpp(t.outside)]*(jQuery.inArray(this.pointer.align,["top","left"])!==-1?1:-1)+this.pointer.dimensions[this._getOpp(t.outside)]/2*(jQuery.inArray(this.pointer.align,["top","left"])!==-1?-1:1):this.pointer.dimensions[this._getOpp(t.outside)]/2*(jQuery.inArray(this.pointer.align,["top","left"])!==-1?1:-1)}}c*=t.position[this._getOpp(t.outside)]==this.pointer.alignAttribute?-1:1,c+=this.pointer.offset*(this.pointer.align==this._getOpp(this._getTL(this.pointer.align))?1:-1),d[this._getTL(this._getOpp(this.pointer.xy))]+=c}if(d[t.attributes.x]+=t.offset.x,d[t.attributes.y]+=t.offset.y,this.wrapper.css(d),t.adjustPosition){this.positionAdjusted&&(this.pointer&&this.wrapper.css("padding",0).css("padding-"+this._getOpp(this.outside),this.pointer.dimensions[this._getXY(this.outside)]).removeClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).addClass("jBox-pointerPosition-"+this.pointer.position),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+this._getOpp(this.outside)).css(this.pointer.margin),this.positionAdjusted=!1,this.flipped=!1);var g=e.top>d.top-(t.adjustDistance.top||0),f=e.right<d.left+i.x+(t.adjustDistance.right||0),m=e.bottom<d.top+i.y+(t.adjustDistance.bottom||0),v=e.left>d.left-(t.adjustDistance.left||0),y=v?"left":f?"right":null,x=g?"top":m?"bottom":null,j=y||x;if(j){var b=function(e){this.wrapper.css(this._getTL(e),d[this._getTL(e)]+(i[this._getXY(e)]+t.offset[this._getXY(e)]*("top"==e||"left"==e?-2:2)+o[this._getXY(e)])*("top"==e||"left"==e?1:-1)),this.pointer&&this.wrapper.removeClass("jBox-pointerPosition-"+this.pointer.position).addClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).css("padding",0).css("padding-"+e,this.pointer.dimensions[this._getXY(e)]),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+e),this.positionAdjusted=!0,this.flipped=!0}.bind(this);h.x&&b(this.options.position.x),h.y&&b(this.options.position.y);var w="x"==this._getXY(this.outside)?x:y;if(this.pointer&&"target"==t.pointTo&&"flip"!=t.adjustPosition&&this._getXY(w)==this._getOpp(this._getXY(this.outside))){if("center"==this.pointer.align)var C=i[this._getXY(w)]/2-this.pointer.dimensions[this._getOpp(this.pointer.xy)]/2-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))*(w!=this._getTL(w)?-1:1);else var C=w==this.pointer.alignAttribute?parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute)):i[this._getXY(w)]-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-this.pointer.dimensions[this._getXY(w)];spaceDiff=w==this._getTL(w)?e[this._getTL(w)]-d[this._getTL(w)]+t.adjustDistance[w]:(e[this._getOpp(this._getTL(w))]-d[this._getTL(w)]-t.adjustDistance[w]-i[this._getXY(w)])*-1,w==this._getOpp(this._getTL(w))&&d[this._getTL(w)]-spaceDiff<e[this._getTL(w)]+t.adjustDistance[this._getTL(w)]&&(spaceDiff-=e[this._getTL(w)]+t.adjustDistance[this._getTL(w)]-(this.pos[this._getTL(w)]-spaceDiff)),spaceDiff=Math.min(spaceDiff,C),spaceDiff<=C&&spaceDiff>0&&(this.pointer.element.css("margin-"+this.pointer.alignAttribute,parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-spaceDiff*(w!=this.pointer.alignAttribute?-1:1)),this.wrapper.css(this._getTL(w),d[this._getTL(w)]+spaceDiff*(w!=this._getTL(w)?-1:1)),this.positionAdjusted=!0)}}}return this._fireEvent("onPosition"),this},jBox.prototype.open=function(t){if(!t&&(t={}),this.isDestroyed)return!1;if(!this.wrapper&&this._create(),!this._styles&&(this._styles=jQuery("<style/>").append(this._animationCSS).appendTo(jQuery("head"))),this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var i=function(){this.source&&this.options.getTitle&&(this.source.attr(this.options.getTitle)&&this.setTitle(this.source.attr(this.options.getTitle)),!0),this.source&&this.options.getContent&&(this.source.data("jBox-getContent")?this.setContent(this.source.data("jBox-getContent"),!0):this.source.attr(this.options.getContent)?this.setContent(this.source.attr(this.options.getContent),!0):"html"==this.options.getContent?this.setContent(this.source.html(),!0):null),this._fireEvent("onOpen"),(this.options.ajax&&(this.options.ajax.url||this.source&&this.source.attr(this.options.ajax.getURL))&&(!this.ajaxLoaded||this.options.ajax.reload)||t.ajax&&(t.ajax.url||t.ajax.data))&&("strict"==this.options.ajax.reload||!this.source||!this.source.data("jBox-ajax-data")||t.ajax&&(t.ajax.url||t.ajax.data)?this.ajax(t.ajax||null,!0):this.setContent(this.source.data("jBox-ajax-data"))),(!this.positionedOnOpen||this.options.repositionOnOpen)&&this.position(t)&&(this.positionedOnOpen=!0),this.isClosing&&this._abortAnimation(),this.isOpen||(this.isOpen=!0,this.options.autoClose&&(this.options.delayClose=this.options.autoClose)&&this.close(),this._attachEvents(),this.options.blockScroll&&jQuery("body").addClass("jBox-blockScroll-"+this.id),
this.options.overlay&&this._showOverlay(),this.options.animation&&!this.isClosing&&this._animate("open"),this.options.audio&&this.options.audio.open&&this.audio(this.options.audio.open,this.options.volume.open),this.options.fade?this.wrapper.stop().animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.isOpening=!0,this.wrapper.css({display:"block"})}.bind(this),always:function(){this.isOpening=!1,setTimeout(function(){this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1)}.bind(this),10)}.bind(this)}):(this.wrapper.css({display:"block",opacity:1}),this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1)))}.bind(this);return!this.options.delayOpen||this.isOpen||this.isClosing||t.ignoreDelay?i():this.timer=setTimeout(i,this.options.delayOpen),this},jBox.prototype.close=function(t){if(t||(t={}),this.isDestroyed||this.isClosing)return!1;if(this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var i=function(){this._fireEvent("onClose"),this.isOpen&&(this.isOpen=!1,this._detachEvents(),this.options.blockScroll&&jQuery("body").removeClass("jBox-blockScroll-"+this.id),this.options.overlay&&this._hideOverlay(),this.options.animation&&!this.isOpening&&this._animate("close"),this.options.audio&&this.options.audio.close&&this.audio(this.options.audio.close,this.options.volume.close),this.options.fade?this.wrapper.stop().animate({opacity:0},{queue:!1,duration:this.options.fade,start:function(){this.isClosing=!0}.bind(this),complete:function(){this.wrapper.css({display:"none"}),this._fireEvent("onCloseComplete")}.bind(this),always:function(){this.isClosing=!1}.bind(this)}):(this.wrapper.css({display:"none",opacity:0}),this._fireEvent("onCloseComplete")))}.bind(this);return t.ignoreDelay?i():this.timer=setTimeout(i,Math.max(this.options.delayClose,10)),this},jBox.prototype.toggle=function(t){return this[this.isOpen?"close":"open"](t),this},jBox.prototype.disable=function(){return this.isDisabled=!0,this},jBox.prototype.enable=function(){return this.isDisabled=!1,this},jBox.prototype.hide=function(){return this.disable(),this.wrapper&&this.wrapper.css({display:"none"}),this},jBox.prototype.show=function(){return this.enable(),this.wrapper&&this.wrapper.css({display:"block"}),this},jBox.prototype.ajax=function(t,i){t||(t={}),jQuery.each([["getData","data"],["getURL","url"]],function(i,e){this.options.ajax[e[0]]&&!t[e[1]]&&this.source&&void 0!=this.source.attr(this.options.ajax[e[0]])&&(t[e[1]]=this.source.attr(this.options.ajax[e[0]])||"")}.bind(this));var e=jQuery.extend(!0,{},this.options.ajax);this.ajaxRequest&&this.ajaxRequest.abort();var s=t.beforeSend||e.beforeSend||function(){},o=t.complete||e.complete||function(){},n=t.success||e.success||function(){},a=t.error||e.error||function(){},r=jQuery.extend(!0,e,t);return r.beforeSend=function(){this.wrapper.addClass("jBox-loading"),r.spinner&&(this.spinnerDelay=setTimeout(function(){this.wrapper.addClass("jBox-loading-spinner"),r.spinnerReposition&&(i?this.positionOnFadeComplete=!0:this.position()),this.spinner=jQuery(r.spinner!==!0?r.spinner:'<div class="jBox-spinner"></div>').appendTo(this.container),this.titleContainer&&"absolute"==this.spinner.css("position")&&this.spinner.css({transform:"translateY("+.5*this.titleContainer.outerHeight()+"px)"})}.bind(this),""==this.content.html()?0:r.spinnerDelay||0)),s.bind(this)()}.bind(this),r.complete=function(t){this.spinnerDelay&&clearTimeout(this.spinnerDelay),this.wrapper.removeClass("jBox-loading jBox-loading-spinner jBox-loading-spinner-delay"),this.spinner&&this.spinner.length&&this.spinner.remove()&&r.spinnerReposition&&(i?this.positionOnFadeComplete=!0:this.position()),this.ajaxLoaded=!0,o.bind(this)(t)}.bind(this),r.success=function(t){r.setContent&&this.setContent(t,!0)&&(i?this.positionOnFadeComplete=!0:this.position()),r.setContent&&this.source&&this.source.data("jBox-ajax-data",t),n.bind(this)(t)}.bind(this),r.error=function(t){a.bind(this)(t)}.bind(this),this.ajaxRequest=jQuery.ajax(r),this},jBox.prototype.audio=function(t,i){if(!t)return this;if(!jBox._audio&&(jBox._audio={}),!jBox._audio[t]){var e=jQuery("<audio/>");jQuery("<source/>",{src:t+".mp3"}).appendTo(e),jQuery("<source/>",{src:t+".ogg"}).appendTo(e),jBox._audio[t]=e[0]}jBox._audio[t].volume=Math.min((void 0!=i?i:100)/100,1);try{jBox._audio[t].pause(),jBox._audio[t].currentTime=0}catch(t){}return jBox._audio[t].play(),this},jBox._animationSpeeds={tada:1e3,tadaSmall:1e3,flash:500,shake:400,pulseUp:250,pulseDown:250,popIn:250,popOut:250,fadeIn:200,fadeOut:200,slideUp:400,slideRight:400,slideLeft:400,slideDown:400},jBox.prototype.animate=function(t,i){!i&&(i={}),!this.animationTimeout&&(this.animationTimeout={}),!i.element&&(i.element=this.wrapper),!i.element.data("jBox-animating-id")&&i.element.data("jBox-animating-id",jBox._getUniqueElementID()),i.element.data("jBox-animating")&&(i.element.removeClass(i.element.data("jBox-animating")).data("jBox-animating",null),this.animationTimeout[i.element.data("jBox-animating-id")]&&clearTimeout(this.animationTimeout[i.element.data("jBox-animating-id")])),i.element.addClass("jBox-animated-"+t).data("jBox-animating","jBox-animated-"+t),this.animationTimeout[i.element.data("jBox-animating-id")]=setTimeout(function(){i.element.removeClass(i.element.data("jBox-animating")).data("jBox-animating",null),i.complete&&i.complete()},jBox._animationSpeeds[t])},jBox.prototype.destroy=function(){return this.detach(),this.isOpen&&this.close({ignoreDelay:!0}),this.wrapper&&this.wrapper.remove(),this.overlay&&this.overlay.remove(),this._styles&&this._styles.remove(),this.isDestroyed=!0,this},jBox._getUniqueID=function(){var t=1;return function(){return t++}}(),jBox._getUniqueElementID=function(){var t=1;return function(){return t++}}(),jBox._pluginOptions={},jQuery.fn.jBox=function(t,i){return!t&&(t={}),!i&&(i={}),new jBox(t,jQuery.extend(i,{attach:this}))},function(t,i){"use strict";var e={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(t){},onSliderLoad:function(t){},onBeforeSlide:function(t,i){},onAfterSlide:function(t,i){},onBeforeNextSlide:function(t,i){},onBeforePrevSlide:function(t,i){}};t.fn.lightSlider=function(i){if(0===this.length)return this;if(this.length>1)return this.each(function(){t(this).lightSlider(i)}),this;var s={},o=t.extend(!0,{},e,i),n={},a=this;s.$el=this,"fade"===o.mode&&(o.vertical=!1);var r=a.children(),h=t(window).width(),l=null,p=null,d=0,u=0,c=!1,g=0,f="",m=0,v=o.vertical===!0?"height":"width",y=o.vertical===!0?"margin-bottom":"margin-right",x=0,j=0,b=0,w=0,C=null,B="ontouchstart"in document.documentElement,_={};return _.chbreakpoint=function(){if(h=t(window).width(),o.responsive.length){var i;if(o.autoWidth===!1&&(i=o.item),h<o.responsive[0].breakpoint)for(var e=0;e<o.responsive.length;e++)h<o.responsive[e].breakpoint&&(l=o.responsive[e].breakpoint,p=o.responsive[e]);if("undefined"!=typeof p&&null!==p)for(var s in p.settings)p.settings.hasOwnProperty(s)&&("undefined"!=typeof n[s]&&null!==n[s]||(n[s]=o[s]),o[s]=p.settings[s]);if(!t.isEmptyObject(n)&&h>o.responsive[0].breakpoint)for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);o.autoWidth===!1&&x>0&&b>0&&i!==o.item&&(m=Math.round(x/((b+o.slideMargin)*o.slideMove)))}},_.calSW=function(){o.autoWidth===!1&&(b=(g-(o.item*o.slideMargin-o.slideMargin))/o.item)},_.calWidth=function(t){var i=t===!0?f.find(".lslide").length:r.length;if(o.autoWidth===!1)u=i*(b+o.slideMargin);else{u=0;for(var e=0;e<i;e++)u+=parseInt(r.eq(e).width())+o.slideMargin}return u},s={doCss:function(){var t=function(){for(var t=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],i=document.documentElement,e=0;e<t.length;e++)if(t[e]in i.style)return!0};return!(!o.useCSS||!t())},keyPress:function(){o.keyPress&&t(document).on("keyup.lightslider",function(i){t(":focus").is("input, textarea")||(i.preventDefault?i.preventDefault():i.returnValue=!1,37===i.keyCode?a.goToPrevSlide():39===i.keyCode&&a.goToNextSlide())})},controls:function(){o.controls&&(a.after('<div class="lSAction"><a class="lSPrev">'+o.prevHtml+'</a><a class="lSNext">'+o.nextHtml+"</a></div>"),o.autoWidth?_.calWidth(!1)<g&&f.find(".lSAction").hide():d<=o.item&&f.find(".lSAction").hide(),f.find(".lSAction a").on("click",function(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,"lSPrev"===t(this).attr("class")?a.goToPrevSlide():a.goToNextSlide(),!1}))},initialStyle:function(){var t=this;"fade"===o.mode&&(o.autoWidth=!1,o.slideEndAnimation=!1),o.auto&&(o.slideEndAnimation=!1),o.autoWidth&&(o.slideMove=1,o.item=1),o.loop&&(o.slideMove=1,o.freeMove=!1),o.onBeforeStart.call(this,a),_.chbreakpoint(),a.addClass("lightSlider").wrap('<div class="lSSlideOuter '+o.addClass+'"><div class="lSSlideWrapper"></div></div>'),f=a.parent(".lSSlideWrapper"),o.rtl===!0&&f.parent().addClass("lSrtl"),o.vertical?(f.parent().addClass("vertical"),g=o.verticalHeight,f.css("height",g+"px")):g=a.outerWidth(),r.addClass("lslide"),o.loop===!0&&"slide"===o.mode&&(_.calSW(),_.clone=function(){if(_.calWidth(!0)>g){for(var i=0,e=0,s=0;s<r.length&&(i+=parseInt(a.find(".lslide").eq(s).width())+o.slideMargin,e++,!(i>=g+o.slideMargin));s++);var n=o.autoWidth===!0?e:o.item;if(n<a.find(".clone.left").length)for(var h=0;h<a.find(".clone.left").length-n;h++)r.eq(h).remove();if(n<a.find(".clone.right").length)for(var l=r.length-1;l>r.length-1-a.find(".clone.right").length;l--)m--,r.eq(l).remove();for(var p=a.find(".clone.right").length;p<n;p++)a.find(".lslide").eq(p).clone().removeClass("lslide").addClass("clone right").appendTo(a),m++;for(var d=a.find(".lslide").length-a.find(".clone.left").length;d>a.find(".lslide").length-n;d--)a.find(".lslide").eq(d-1).clone().removeClass("lslide").addClass("clone left").prependTo(a);r=a.children()}else r.hasClass("clone")&&(a.find(".clone").remove(),t.move(a,0))},_.clone()),_.sSW=function(){d=r.length,o.rtl===!0&&o.vertical===!1&&(y="margin-left"),o.autoWidth===!1&&r.css(v,b+"px"),r.css(y,o.slideMargin+"px"),u=_.calWidth(!1),a.css(v,u+"px"),o.loop===!0&&"slide"===o.mode&&c===!1&&(m=a.find(".clone.left").length)},_.calL=function(){r=a.children(),d=r.length},this.doCss()&&f.addClass("usingCss"),_.calL(),"slide"===o.mode?(_.calSW(),_.sSW(),o.loop===!0&&(x=t.slideValue(),this.move(a,x)),o.vertical===!1&&this.setHeight(a,!1)):(this.setHeight(a,!0),a.addClass("lSFade"),this.doCss()||(r.fadeOut(0),r.eq(m).fadeIn(0))),o.loop===!0&&"slide"===o.mode?r.eq(m).addClass("active"):r.first().addClass("active")},pager:function(){var t=this;if(_.createPager=function(){w=(g-(o.thumbItem*o.thumbMargin-o.thumbMargin))/o.thumbItem;var i=f.find(".lslide"),e=f.find(".lslide").length,s=0,n="",r=0;for(s=0;s<e;s++){"slide"===o.mode&&(o.autoWidth?r+=(parseInt(i.eq(s).width())+o.slideMargin)*o.slideMove:r=s*((b+o.slideMargin)*o.slideMove));var h=i.eq(s*o.slideMove).attr("data-thumb");if(n+=o.gallery===!0?'<li style="width:100%;'+v+":"+w+"px;"+y+":"+o.thumbMargin+'px"><a href="#"><img src="'+h+'" /></a></li>':'<li><a href="#">'+(s+1)+"</a></li>","slide"===o.mode&&r>=u-g-o.slideMargin){s+=1;var l=2;o.autoWidth&&(n+='<li><a href="#">'+(s+1)+"</a></li>",l=1),s<l?(n=null,f.parent().addClass("noPager")):f.parent().removeClass("noPager");break}}var p=f.parent();p.find(".lSPager").html(n),o.gallery===!0&&(o.vertical===!0&&p.find(".lSPager").css("width",o.vThumbWidth+"px"),j=s*(o.thumbMargin+w)+.5,p.find(".lSPager").css({property:j+"px","transition-duration":o.speed+"ms"}),o.vertical===!0&&f.parent().css("padding-right",o.vThumbWidth+o.galleryMargin+"px"),p.find(".lSPager").css(v,j+"px"));var d=p.find(".lSPager").find("li");d.first().addClass("active"),d.on("click",function(){return o.loop===!0&&"slide"===o.mode?m+=d.index(this)-p.find(".lSPager").find("li.active").index():m=d.index(this),a.mode(!1),o.gallery===!0&&t.slideThumb(),!1})},o.pager){var i="lSpg";o.gallery&&(i="lSGallery"),f.after('<ul class="lSPager '+i+'"></ul>');var e=o.vertical?"margin-left":"margin-top";f.parent().find(".lSPager").css(e,o.galleryMargin+"px"),_.createPager()}setTimeout(function(){_.init()},0)},setHeight:function(t,i){var e=null,s=this;e=o.loop?t.children(".lslide ").first():t.children().first();var n=function(){var s=e.outerHeight(),o=0,n=s;i&&(s=0,o=100*n/g),t.css({height:s+"px","padding-bottom":o+"%"})};n(),e.find("img").length?e.find("img")[0].complete?(n(),C||s.auto()):e.find("img").on("load",function(){setTimeout(function(){n(),C||s.auto()},100)}):C||s.auto()},active:function(t,i){this.doCss()&&"fade"===o.mode&&f.addClass("on");var e=0;if(m*o.slideMove<d){t.removeClass("active"),this.doCss()||"fade"!==o.mode||i!==!1||t.fadeOut(o.speed),e=i===!0?m:m*o.slideMove;var s,n;i===!0&&(s=t.length,n=s-1,e+1>=s&&(e=n)),o.loop===!0&&"slide"===o.mode&&(e=i===!0?m-a.find(".clone.left").length:m*o.slideMove,i===!0&&(s=t.length,n=s-1,e+1===s?e=n:e+1>s&&(e=0))),this.doCss()||"fade"!==o.mode||i!==!1||t.eq(e).fadeIn(o.speed),t.eq(e).addClass("active")}else t.removeClass("active"),t.eq(t.length-1).addClass("active"),this.doCss()||"fade"!==o.mode||i!==!1||(t.fadeOut(o.speed),t.eq(e).fadeIn(o.speed))},move:function(t,i){o.rtl===!0&&(i=-i),this.doCss()?o.vertical===!0?t.css({transform:"translate3d(0px, "+-i+"px, 0px)","-webkit-transform":"translate3d(0px, "+-i+"px, 0px)"}):t.css({transform:"translate3d("+-i+"px, 0px, 0px)","-webkit-transform":"translate3d("+-i+"px, 0px, 0px)"}):o.vertical===!0?t.css("position","relative").animate({top:-i+"px"},o.speed,o.easing):t.css("position","relative").animate({left:-i+"px"},o.speed,o.easing);var e=f.parent().find(".lSPager").find("li");this.active(e,!0)},fade:function(){this.active(r,!1);var t=f.parent().find(".lSPager").find("li");this.active(t,!0)},slide:function(){var t=this;_.calSlide=function(){u>g&&(x=t.slideValue(),t.active(r,!1),x>u-g-o.slideMargin?x=u-g-o.slideMargin:x<0&&(x=0),t.move(a,x),o.loop===!0&&"slide"===o.mode&&(m>=d-a.find(".clone.left").length/o.slideMove&&t.resetSlide(a.find(".clone.left").length),0===m&&t.resetSlide(f.find(".lslide").length)))},_.calSlide()},resetSlide:function(t){var i=this;f.find(".lSAction a").addClass("disabled"),setTimeout(function(){m=t,f.css("transition-duration","0ms"),x=i.slideValue(),i.active(r,!1),s.move(a,x),setTimeout(function(){f.css("transition-duration",o.speed+"ms"),f.find(".lSAction a").removeClass("disabled")},50)},o.speed+100)},slideValue:function(){var t=0;if(o.autoWidth===!1)t=m*((b+o.slideMargin)*o.slideMove);else{t=0;for(var i=0;i<m;i++)t+=parseInt(r.eq(i).width())+o.slideMargin}return t},slideThumb:function(){var t;switch(o.currentPagerPosition){case"left":t=0;break;case"middle":t=g/2-w/2;break;case"right":t=g-w}var i=m-a.find(".clone.left").length,e=f.parent().find(".lSPager");"slide"===o.mode&&o.loop===!0&&(i>=e.children().length?i=0:i<0&&(i=e.children().length));var s=i*(w+o.thumbMargin)-t;s+g>j&&(s=j-g-o.thumbMargin),s<0&&(s=0),this.move(e,s)},auto:function(){o.auto&&(clearInterval(C),C=setInterval(function(){a.goToNextSlide()},o.pause))},pauseOnHover:function(){var i=this;o.auto&&o.pauseOnHover&&(f.on("mouseenter",function(){t(this).addClass("ls-hover"),a.pause(),o.auto=!0}),f.on("mouseleave",function(){t(this).removeClass("ls-hover"),f.find(".lightSlider").hasClass("lsGrabbing")||i.auto()}))},touchMove:function(t,i){if(f.css("transition-duration","0ms"),"slide"===o.mode){var e=t-i,s=x-e;if(s>=u-g-o.slideMargin)if(o.freeMove===!1)s=u-g-o.slideMargin;else{var n=u-g-o.slideMargin;s=n+(s-n)/5}else s<0&&(o.freeMove===!1?s=0:s/=5);this.move(a,s)}},touchEnd:function(t){if(f.css("transition-duration",o.speed+"ms"),"slide"===o.mode){var i=!1,e=!0;x-=t,x>u-g-o.slideMargin?(x=u-g-o.slideMargin,o.autoWidth===!1&&(i=!0)):x<0&&(x=0);var s=function(t){var e=0;if(i||t&&(e=1),o.autoWidth)for(var s=0,n=0;n<r.length&&(s+=parseInt(r.eq(n).width())+o.slideMargin,m=n+e,!(s>=x));n++);else{var a=x/((b+o.slideMargin)*o.slideMove);m=parseInt(a)+e,x>=u-g-o.slideMargin&&a%1!==0&&m++}};t>=o.swipeThreshold?(s(!1),e=!1):t<=-o.swipeThreshold&&(s(!0),e=!1),a.mode(e),this.slideThumb()}else t>=o.swipeThreshold?a.goToPrevSlide():t<=-o.swipeThreshold&&a.goToNextSlide()},enableDrag:function(){var i=this;if(!B){var e=0,s=0,n=!1;f.find(".lightSlider").addClass("lsGrab"),f.on("mousedown",function(i){return!(u<g&&0!==u)&&void("lSPrev"!==t(i.target).attr("class")&&"lSNext"!==t(i.target).attr("class")&&(e=o.vertical===!0?i.pageY:i.pageX,n=!0,i.preventDefault?i.preventDefault():i.returnValue=!1,f.scrollLeft+=1,f.scrollLeft-=1,f.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(C)))}),t(window).on("mousemove",function(t){n&&(s=o.vertical===!0?t.pageY:t.pageX,i.touchMove(s,e))}),t(window).on("mouseup",function(a){if(n){f.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab"),n=!1,s=o.vertical===!0?a.pageY:a.pageX;var r=s-e;Math.abs(r)>=o.swipeThreshold&&t(window).on("click.ls",function(i){i.preventDefault?i.preventDefault():i.returnValue=!1,i.stopImmediatePropagation(),i.stopPropagation(),t(window).off("click.ls")}),i.touchEnd(r)}})}},enableTouch:function(){var t=this;if(B){var i={},e={};f.on("touchstart",function(t){e=t.originalEvent.targetTouches[0],i.pageX=t.originalEvent.targetTouches[0].pageX,i.pageY=t.originalEvent.targetTouches[0].pageY,clearInterval(C)}),f.on("touchmove",function(s){if(u<g&&0!==u)return!1;var n=s.originalEvent;e=n.targetTouches[0];var a=Math.abs(e.pageX-i.pageX),r=Math.abs(e.pageY-i.pageY);o.vertical===!0?(3*r>a&&s.preventDefault(),t.touchMove(e.pageY,i.pageY)):(3*a>r&&s.preventDefault(),t.touchMove(e.pageX,i.pageX))}),f.on("touchend",function(){if(u<g&&0!==u)return!1;var s;s=o.vertical===!0?e.pageY-i.pageY:e.pageX-i.pageX,t.touchEnd(s)})}},build:function(){var i=this;i.initialStyle(),this.doCss()&&(o.enableTouch===!0&&i.enableTouch(),o.enableDrag===!0&&i.enableDrag()),t(window).on("focus",function(){i.auto()}),t(window).on("blur",function(){clearInterval(C)}),i.pager(),i.pauseOnHover(),i.controls(),i.keyPress()}},s.build(),_.init=function(){_.chbreakpoint(),o.vertical===!0?(g=o.item>1?o.verticalHeight:r.outerHeight(),f.css("height",g+"px")):g=f.outerWidth(),o.loop===!0&&"slide"===o.mode&&_.clone(),_.calL(),"slide"===o.mode&&a.removeClass("lSSlide"),"slide"===o.mode&&(_.calSW(),_.sSW()),setTimeout(function(){"slide"===o.mode&&a.addClass("lSSlide")},1e3),o.pager&&_.createPager(),o.adaptiveHeight===!0&&o.vertical===!1&&a.css("height",r.eq(m).outerHeight(!0)),o.adaptiveHeight===!1&&("slide"===o.mode?o.vertical===!1?s.setHeight(a,!1):s.auto():s.setHeight(a,!0)),o.gallery===!0&&s.slideThumb(),"slide"===o.mode&&s.slide(),o.autoWidth===!1?r.length<=o.item?f.find(".lSAction").hide():f.find(".lSAction").show():_.calWidth(!1)<g&&0!==u?f.find(".lSAction").hide():f.find(".lSAction").show()},a.goToPrevSlide=function(){if(m>0)o.onBeforePrevSlide.call(this,a,m),m--,a.mode(!1),o.gallery===!0&&s.slideThumb();else if(o.loop===!0){if(o.onBeforePrevSlide.call(this,a,m),"fade"===o.mode){var t=d-1;m=parseInt(t/o.slideMove)}a.mode(!1),o.gallery===!0&&s.slideThumb()}else o.slideEndAnimation===!0&&(a.addClass("leftEnd"),setTimeout(function(){a.removeClass("leftEnd")},400))},a.goToNextSlide=function(){var t=!0;if("slide"===o.mode){var i=s.slideValue();t=i<u-g-o.slideMargin}m*o.slideMove<d-o.slideMove&&t?(o.onBeforeNextSlide.call(this,a,m),m++,a.mode(!1),o.gallery===!0&&s.slideThumb()):o.loop===!0?(o.onBeforeNextSlide.call(this,a,m),m=0,a.mode(!1),o.gallery===!0&&s.slideThumb()):o.slideEndAnimation===!0&&(a.addClass("rightEnd"),setTimeout(function(){a.removeClass("rightEnd")},400))},a.mode=function(t){o.adaptiveHeight===!0&&o.vertical===!1&&a.css("height",r.eq(m).outerHeight(!0)),c===!1&&("slide"===o.mode?s.doCss()&&(a.addClass("lSSlide"),""!==o.speed&&f.css("transition-duration",o.speed+"ms"),""!==o.cssEasing&&f.css("transition-timing-function",o.cssEasing)):s.doCss()&&(""!==o.speed&&a.css("transition-duration",o.speed+"ms"),""!==o.cssEasing&&a.css("transition-timing-function",o.cssEasing))),t||o.onBeforeSlide.call(this,a,m),"slide"===o.mode?s.slide():s.fade(),f.hasClass("ls-hover")||s.auto(),setTimeout(function(){t||o.onAfterSlide.call(this,a,m)},o.speed),c=!0},a.play=function(){a.goToNextSlide(),o.auto=!0,s.auto()},a.pause=function(){o.auto=!1,clearInterval(C)},a.refresh=function(){_.init()},a.getCurrentSlideCount=function(){var t=m;if(o.loop){var i=f.find(".lslide").length,e=a.find(".clone.left").length;t=m<=e-1?i+(m-e):m>=i+e?m-i-e:m-e}return t+1},a.getTotalSlideCount=function(){return f.find(".lslide").length},a.goToSlide=function(t){m=o.loop?t+a.find(".clone.left").length-1:t,a.mode(!1),o.gallery===!0&&s.slideThumb()},a.destroy=function(){a.lightSlider&&(a.goToPrevSlide=function(){},a.goToNextSlide=function(){},a.mode=function(){},a.play=function(){},a.pause=function(){},a.refresh=function(){},a.getCurrentSlideCount=function(){},a.getTotalSlideCount=function(){},a.goToSlide=function(){},a.lightSlider=null,_={init:function(){}},a.parent().parent().find(".lSAction, .lSPager").remove(),a.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),a.children().removeAttr("style"),r.removeClass("lslide active"),a.find(".clone").remove(),r=null,C=null,c=!1,m=0)},setTimeout(function(){o.onSliderLoad.call(this,a)},10),t(window).on("resize orientationchange",function(t){setTimeout(function(){t.preventDefault?t.preventDefault():t.returnValue=!1,_.init()},200)}),this}}(jQuery),$(function(){$(".lightSlider").lightSlider({adaptiveHeight:!0,autoWidth:!0,keyPress:!0,loop:!0,item:1})});